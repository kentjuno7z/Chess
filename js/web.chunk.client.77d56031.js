window.chesscom=window.chesscom||{},window.chesscom.routes=window.chesscom.routes||{},Object.assign(window.chesscom.routes,{web_user_callback_lifetime_score:{tokens:[["variable","/","[^/]++","opponent"],["variable","/","[^/]++","user"],["text","/callback/user/lifetime-score"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_game_live:{tokens:[["variable","/","[^/]++","id"],["text","/game/live"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_game_live:{tokens:[["variable","/","[^/]++","id"],["text","/game/live"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_game_rcn:{tokens:[["variable","/","[^/]++","id"],["text","/game/rcn"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_game_rcn:{tokens:[["variable","/","[^/]++","id"],["text","/game/rcn"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid"],["text","/puzzles/battle"]],defaults:{subdomain:"www"},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"af_ZA|ar_AR|az_AZ|be_BY|bg_BG|bn_BD|bs_BA|ca|cs_CZ|da_DK|de_DE|el_GR|en_US|es_ES|et_EE|eu_ES|fa_IR|fi_FI|fil_PH|fr_FR|gl_ES|he_IL|hi_IN|hr_HR|hu_HU|hy_AM|id_ID|is_IS|it_IT|ja_JP|ka_GE|ko_KR|lt_LT|lv_LV|nl_BE|ms_MY|nl_NL|no_NO|pl_PL|pt_BR|pt_PT|ro_RO|ru_RU|sk_SK|sl_SI|sq_AL|sr_RS|sv_SE|tk_TM|tr_TR|uk_UA|ur_PK|vi_VN|zh_CN|zh_HK|zh_TW"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]},i18n_web_puzzles_mode_battle_view:{tokens:[["variable","/","[^/]++","shortUuid"],["text","/puzzles/battle"],["variable","/","es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--","_locale"]],defaults:{subdomain:"www",_locale:""},requirements:{subdomain:"www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy",_locale:"es|fr|de|pl|ru|sv|el|pt|it|zh|ja|ko|nl|hy|bg|hr|cs|da|fi|hu|lt|no|ro|sk|sl|tr|uk|af|ar|az|be|bs|et|fa|gl|he|hi|id|is|ka|lv|ms|pt-BR|sq|sr|vi|zh-HK|zh-TW|fil|nl-BE|bn|tk|uz|ca|ur|--locale--"},hosttokens:[["text",".chess.com"],["variable","","www|schach|ru|uk|ajedrez|fr|scacchi|sakk|schaken|szachy","subdomain"]],methods:[],schemes:["https"]}}),((typeof self<"u"?self:this).wpChessCom_3S4q=(typeof self<"u"?self:this).wpChessCom_3S4q||[]).push([[77267],{77267:function(h,r,s){var n=s(55475),e=s(85390),a=s(66623),l=s(34862),c=s(94124),u=s(18507),g=s(12041);(0,n.X)({user:a.Z,userPopover:l.Z});const o=(0,u.Z)({userPopover:{component:g.default,el:"#user-popover",store:e.default}}),i=window;let _=0,t;const f=d=>{const E=document.getElementById("userPopover");if(!E||d.target!==E&&!E.contains(d.target)){document.removeEventListener("click",f,!0);const m=!t||d.target!==t&&!t.contains(d.target),w=t.getAttribute("href")===null;m?_=0:w&&setTimeout(()=>{_=0},0)}},p=()=>{i.removeEventListener("scroll",p),_=0},b=d=>{t=d.target,_===0&&(_+=1,o.createInstance("userPopover"),c.Z.emit("userPopover/show",d.currentTarget.userPopoverProps,d.target),d.preventDefault(),document.addEventListener("click",f,!0),i.addEventListener("scroll",p))},k=d=>typeof d=="string"?{username:d}:d;r.Z={bind:(d,E)=>{if(!E.value)return!1;d.userPopoverProps=k(E.value),d.addEventListener("click",b)},unbind:d=>{d.removeEventListener("click",b)},update:(d,E)=>{if(!E.value)return!1;const m=k(E.value);d.userPopoverProps.username=m.username,m.actions&&d.userPopoverProps.actions.splice(0,m.actions.length,...m.actions)}}},2287:function(h,r,s){s.d(r,{o:function(){return n}});function n(e){return["grid","list"].includes(e)}},60266:function(h,r,s){s.d(r,{c:function(){return n}});function n(e){return["following","my_activity"].includes(e)}},58107:function(h,r,s){var n=s(57233);r.Z=(0,n.r)()},57233:function(h,r,s){s.d(r,{r:function(){return n}});function n(){var e,a,l,c,u,g;const o={contentLanguage:(a=(e=window.context)==null?void 0:e.i18n)==null?void 0:a.contentLanguage,language:(c=(l=window.context)==null?void 0:l.i18n)==null?void 0:c.locale,speaksEnglish:((g=(u=window.context)==null?void 0:u.i18n)==null?void 0:g.locale)==="en_US"};return{get:i};function i(_){return o[_]}}},82389:function(h,r,s){s.d(r,{T:function(){return g}});var n=s(52619),e=s(89967),a=s(96290),l=s(2287),c=s(60266);const u=o=>o.data&&o.data.message||n.R0.badRequest;function g(o){return{init:({dispatch:i})=>{o.isLoggedIn()&&(i("getFriends"),i("getOpponents"))},getFriends:({commit:i})=>(i("setLoading",!0),o.getFriends({user:o.get("id"),avatarSize:50}).then(_=>{i("setLoading",!1),i("setFriends",_.data.friends)}).catch(()=>{i("setLoading",!1),(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})),getOpponents:({commit:i})=>(i("setLoading",!0),o.getOpponents().then(_=>{i("setLoading",!1),i("setOpponents",_.data)}).catch(()=>{i("setLoading",!1),(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})),getFollowSuggestions:({commit:i})=>o.getFollowSuggestions().then(_=>{if(_.data.users&&_.data.users.length>0){i("setFollowSuggestions",_.data.users);let t=a.Z.trans("Consider following...");_.data.notYetFollowing&&(t=a.Z.trans("You are not currently following anyone. Here are a few suggestions...")),i("setFollowMessage",t)}else i("setFollowMessage",null)}).catch(()=>(0,e.el)({type:n.V5.error,message:n.R0.badRequest})),acceptFollowSuggestion:({commit:i,dispatch:_},t)=>{i("removeFollowSuggestedUser",t),_("trackUser",t)},dismissFollowSuggestion:({commit:i},_)=>(i("removeFollowSuggestedUser",_),o.dismissFollowSuggestion(_).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})),getAvatar:({commit:i},_)=>{if(!o.get("avatarUrl"))return o.getAvatar(_).then(t=>{i("setAvatarUrl",t.data.avatar)})},addFriend:({commit:i,dispatch:_},t)=>{const f=t.userId||t,p=t.dispatchCallback||"getFriends";return i("setLoading",!0),o.addFriend(f).then(b=>{i("setLoading",!1),(0,e.el)({type:n.V5.success,message:u(b)})}).then(()=>{p.includes("/")?_(p,null,{root:!0}):_(p)}).catch(b=>{i("setLoading",!1),(0,e.el)({type:n.V5.error,message:b.response.data.message})})},deleteFriend:({commit:i,dispatch:_},t)=>{const f=t.userId||t,p=t.dispatchCallback||"getFriends";return i("setLoading",!0),o.deleteFriend(f).then(b=>{i("setLoading",!1),(0,e.el)({type:n.V5.success,message:u(b)})}).then(()=>{p.includes("/")?_(p,null,{root:!0}):_(p)}).catch(()=>{i("setLoading",!1),(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})},approveFriendRequest:({dispatch:i},_)=>{const t=_.userId||_,f=_.dispatchCallback||"getFriends";return o.approveFriendRequest(t).then(p=>{(0,e.el)({type:n.V5.success,message:u(p)})}).then(()=>{f.includes("/")?i(f,null,{root:!0}):i(f)}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})},blockUser:(i,_)=>o.blockUser(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})}),unblockUser:(i,_)=>o.unblockUser(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})}),trackUser:(i,_)=>o.trackUser(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})}),untrackUser:(i,_)=>o.untrackUser(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})}),setArchiveView:({commit:i},_)=>{if((0,l.o)(_)&&o.get("archiveView")!==_)return o.setArchiveView(_).then(()=>{i("setArchiveView",_)})},setFairPlayAgree:({commit:i})=>(i("setFairPlayAgree",!0),o.setFairPlayAgree(!0)),setHomeContentType:({commit:i},_)=>{if((0,c.c)(_))return i("setHomeContentType",_),o.setHomeContentType(_)},cancelFriendRequest:(i,_)=>o.cancelFriendRequest(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})}),declineFriendRequest(i,_){return o.declineFriendRequest(_).then(t=>{(0,e.el)({type:n.V5.success,message:u(t)})}).catch(()=>{(0,e.el)({type:n.V5.error,message:n.R0.badRequest})})},refreshUserRoles({commit:i}){if(o.isLoggedIn())return o.getRoles().then(_=>{i("setRoles",_.data)})},checkValidUsername:(i,_)=>o.checkValidUsername(_).then(t=>t.data).catch(()=>(0,e.el)({type:n.V5.error,message:n.R0.badRequest}))}}},3727:function(h,r){r.Z={chessTitle:s=>s.chessTitle,isActivated:s=>s.isActivated,id:s=>s.id,isImpersonating:s=>s.isImpersonating,isLoggedIn:s=>s.isLoggedIn,username:s=>s.username,roles:s=>s.roles,isPremium:s=>s.isPremium,hyphenatedLanguage:s=>(s.language||"").replace("_","-")}},66623:function(h,r,s){var n=s(58107),e=s(55681),a=s(82389),l=s(3727),c=s(91035),u=s(39731);r.Z={namespaced:!0,mutations:c.Z,actions:(0,a.T)(e.Z),state:(0,u.H)(e.Z,n.Z),getters:l.Z}},91035:function(h,r){r.Z={setLoading:(s,n)=>{s.loading=n},setLoadingUser:(s,n)=>{s.loadingUser[n.username]=n.loading},setLoadingFriends:(s,n)=>{s.loading.friends=n},setFriends:(s,n)=>{s.friends=n},setLoadingOpponents:(s,n)=>{s.loading.opponents=n},setOpponents:(s,n)=>{s.opponents=n},setAvatarUrl:(s,n)=>{s.avatarUrl=n},setSettingsAvatarUrl:(s,n)=>{s.settingsAvatarUrl=n},setArchiveView:(s,n)=>{s.archiveView=n},setFairPlayAgree:(s,n)=>{s.fairPlayAgree=n},setHomeContentType:(s,n)=>{s.homeContentType=n},setFollowSuggestions:(s,n)=>{s.followSuggestions=n},removeFollowSuggestedUser:(s,n)=>{const e=s.followSuggestions,a=e.findIndex(l=>l.username===n);a!==-1&&(e.splice(a,1),s.followSuggestions=e)},setFollowMessage:(s,n)=>{s.followMessage=n},setRoles:(s,n)=>{s.roles=n},setRating:(s,n)=>{s.rating=n},setLoggedIn:(s,n)=>{s.isLoggedIn=n},setUsername:(s,n)=>{s.username=n},setMembershipLevel(s,n){s.membershipLevel=n}}},29976:function(h,r,s){var n=s(71646),e=s(46452),a=s(55681),l=s(34633);r.Z={async fetchUserPopover({rootState:c,commit:u},g){let o,i=!1;try{o=(await a.Z.getUser(g)).data,i=!0}catch{u("setUser",{userNotExist:!0})}if(i){const _=await(0,l.A)(o.uuid),{user:t}=c;if(t?.id&&o&&o.userId!==t.id)try{const{data:f}=await n.Z.post(e.Z.generate("web_user_callback_lifetime_score",{user:o.userId,opponent:t.id}));u("setLifetimeScore",f)}catch{u("setLifetimeScore",null)}u("setUser",{...o,username:g}),u("setPresenceDetails",_)}}}},34862:function(h,r,s){var n=s(29976),e=s(42344),a=s(40138);r.Z={namespaced:!0,mutations:e.Z,actions:n.Z,state:a.Z}},42344:function(h,r,s){var n=s(6407);r.Z={hideUserPopover:e=>{e.isHovered=!1,e.show=!1},hover:e=>{e.isHovered=!0},resetUser:e=>{e.user=(0,n.Y)(),e.presenceDetails=null,e.lifetimeScore=null},showUserPopover:e=>{e.show=!0},setPosition:(e,a)=>{e.position=a},setUser:(e,a)=>{e.user=a},setPresenceDetails:(e,a)=>{e.presenceDetails=a},setLifetimeScore:(e,a)=>{e.lifetimeScore=a}}},40138:function(h,r,s){var n=s(6407);r.Z={isHovered:!1,show:!1,user:(0,n.Y)(),position:{x:"right",y:"bottom",top:0,left:0},presenceDetails:null,lifetimeScore:null}},39731:function(h,r,s){s.d(r,{H:function(){return n}});function n(e,a){var l;return{chessTitle:e.get("chessTitle")||"",cohort:e.get("cohort"),flairCode:e.get("flairCode"),friends:e.get("friends"),roles:e.get("roles"),opponents:e.get("opponents"),boardSettings:e.get("boardSettings"),loading:!1,eligibleFirstTrial:e.eligibleFirstTrial(),isActivated:e.checkMembershipStatus("isActivated"),isLoggedIn:e.isLoggedIn(),isEnabled:e.isEnabled("isEnabled"),isImpersonating:e.isImpersonating(),isStaff:e.checkMembershipStatus("isStaff"),isStaffOnly:e.checkMembershipStatus("isStaffOnly"),isModerator:e.checkMembershipStatus("isModerator"),isModeratorOnly:e.checkMembershipStatus("isModeratorOnly"),isDiamond:e.checkMembershipStatus("isDiamond"),isDiamondOnly:e.checkMembershipStatus("isDiamondOnly"),isPlatinum:e.checkMembershipStatus("isPlatinum"),isPlatinumOnly:e.checkMembershipStatus("isPlatinumOnly"),isSilver:e.checkMembershipStatus("isSilver"),isSilverOnly:e.checkMembershipStatus("isSilverOnly"),isGold:e.checkMembershipStatus("isGold"),isGoldOnly:e.checkMembershipStatus("isGoldOnly"),isGuest:e.get("isGuest"),isPremium:e.checkMembershipStatus("isPremium"),isBasic:e.checkMembershipStatus("isBasic"),id:e.get("id"),language:a.get("language"),contentLanguage:a.get("contentLanguage"),username:e.get("username"),avatarUrl:e.get("avatarUrl"),settingsAvatarUrl:e.get("settingsAvatarUrl"),avatarLargeUrl:e.get("avatarLargeUrl"),lastLoginDate:e.get("lastLoginDate"),registerDate:e.get("registerDate"),timezone:e.get("timezone"),diagramSettings:e.get("diagramSettings"),speaksEnglish:a.get("speaksEnglish"),archiveView:e.get("getArchiveView"),homeContentType:e.get("homeContentType"),membershipLevel:e.get("membershipLevel"),isContentHidden:e.get("isContentHidden"),fairPlayAgree:e.get("fairPlayAgree"),features:e.get("features"),followSuggestions:[],followMessage:"",country:e.get("country"),flag:(l=e.get("country"))==null?void 0:l.id,rating:e.get("rating"),membership:e.get("membership"),safeMode:e.get("safeMode"),uuid:e.get("uuid")}}},14407:function(h,r,s){s.d(r,{h:function(){return e}});var n=s(82229);async function e(a){return(0,n.n)({method:"get",...a})}},88242:function(h,r,s){var n=s(34079),e=s(71646);const a=e.Z.create({withCredentials:!0});a.interceptors.response.use(l=>l,l=>{var c;if(((c=l?.response)==null?void 0:c.status)>=400)try{(0,n.X)({message:l.message,method:l.config.method,requestUrl:l.config.url.replace("https://www.chess.com"),stack:l.stack,status:l.response.status})}catch{}return Promise.reject(l)}),r.Z=a},82229:function(h,r,s){s.d(r,{n:function(){return e}});var n=s(88242);async function e(a){var l;let c=window.PubSub.options.url[a.service||"base"];const u=a.path instanceof Array?a.path.join("/"):a.path;!c.endsWith("/")&&!u.startsWith("/")&&(c+="/");const g={};["staging","prod"].includes("staging")||(g.uid=(l=window.context.user)==null?void 0:l.uuid),a.params&&Object.assign(g,a.params);const o={};return a.requestId&&(o["x-chesscom-request-id-client"]=a.requestId),a.clientId&&(o["x-chesscom-play-client"]=a.clientId),a.headers&&Object.assign(o,a.headers),(0,n.Z)({url:/^http[s]?:/.test(u)?u:`${c}${u}`,data:a.data,method:a.method||"post",params:g,headers:o,withCredentials:!0})}},58224:function(h,r,s){s.d(r,{fz:function(){return o},AM:function(){return e},pS:function(){return _},LZ:function(){return n}});const n={CONNECT:"connect",DISCONNECT:"disconnect",FAILURE:"failure",MESSAGE:"message",RECONNECT:"reconnect",SUBSCRIBE:"subscribe",SUBSCRIBE_FAIL:"subscribe_fail",UNSUBSCRIBE:"unsubscribe",ERROR:"error"};var e=(t=>(t.Base="base",t.Chat="chat",t.Classroom="classroom",t.Matcher="matcher",t.Play="play",t.Presence="presence",t.Ratings="ratings",t.Insights="insights",t.TopPlayers="topplayers",t.Users="users",t.Invitations="invitations",t.Settings="settings",t.GameList="gamelist",t))(e||{}),a=(t=>(t.Classroom="classroom",t.Game="game",t.Disable="disable",t.Messages="messages",t.Mute="mute",t.Unmute="unmute",t.User="user",t))(a||{}),l=(t=>(t.Users="users",t))(l||{}),c=(t=>(t.Accept="accept",t.Cancel="cancel",t.Challenges="challenges",t.Decline="reject",t.Games="games",t.Seeks="seeks",t))(c||{}),u=(t=>(t.Actions="actions",t.Games="games",t.Moves="moves",t))(u||{}),g=(t=>(t.Alias="alias",t.Arrows="arrows",t.AudioSettings="audio-settings",t.AutoSave="auto-save",t.Boards="boards",t.ChatSettings="chat-settings",t.Clock="clock",t.CollectionIds="collection-ids",t.Commands="commands",t.Confirmations="confirmations",t.Current="current",t.Enrollment="enrollment",t.EvaluationSettings="evaluation-settings",t.Flipped="flipped",t.GameId="game-id",t.Images="images",t.Invitees="invitees",t.LargeClassroom="large-classroom",t.Moves="moves",t.Notifications="notifications",t.PinnedVideos="pinned-videos",t.Players="players",t.Position="position",t.Publish="publish",t.SelectedCollectionId="selected-collection-id",t.Sequence="sequence",t.Sessions="sessions",t.Squares="squares",t.Stopwatch="stopwatch",t.Timer="timer",t.Title="title",t.Twilio="twilio",t.Users="users",t.Webrtc="webrtc",t))(g||{}),o=(t=>(t.Users="users",t))(o||{}),i=(t=>(t.Users="users",t))(i||{});const _=window.PubSub},34633:function(h,r,s){s.d(r,{A:function(){return e}});var n=s(59091);async function e(a){return(await(0,n.I)([a]))[a]}},90195:function(h,r,s){s.d(r,{K:function(){return a}});var n=s(58224),e=s(14407);async function a(l){return(0,e.h)({service:n.AM.Presence,path:[n.fz.Users],params:{ids:l.slice(0,25).join(",")}})}},59091:function(h,r,s){s.d(r,{I:function(){return a}});var n=s(90195),e=s(17377);async function a(l){const{data:c}=await(0,n.K)(l);return c.users.reduce((u,g)=>(u[g.id]=(0,e.O)(g),u),{})}},17377:function(h,r,s){s.d(r,{O:function(){return a}});var n=s(46452),e=s(83626);function a(l){var c,u;const{activity:g,activityContext:o,id:i,status:_,statusAt:t,statusAtUncertain:f}=l,p={battleLink:void 0,eventLink:void 0,gameLink:void 0,id:i,isOfflineStatusUncertain:void 0,isOnline:_===e.p.Online,isPlaying:g===e.V.Playing,offlineSince:void 0,statusAt:t};if(_===e.p.Offline&&(p.offlineSince=t),(c=o?.games)!=null&&c.length){const b=o.games[0],k=b.legacyId?"web_game_live":"web_game_rcn",d=b.legacyId||b.id;p.gameLink=n.Z.generate(k,{id:d})}else if((u=o?.battles)!=null&&u.length){const b=o.battles[0].id;p.battleLink=n.Z.generate("web_puzzles_mode_battle_view",{shortUuid:b})}return p.isOfflineStatusUncertain=f,p}},83626:function(h,r,s){s.d(r,{V:function(){return n},p:function(){return e}});var n=(a=>(a.None="none",a.Playing="playing",a))(n||{}),e=(a=>(a.Offline="offline",a.Online="online",a))(e||{})}}]);
